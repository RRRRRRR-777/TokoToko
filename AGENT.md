# AGENT.md
~/RRRRRRR777/Repositories/TekuToko/CLAUDE.mdを参照して下さい。

出力する自然言語は**日本語**でお願いします。
このファイルは、CLAUDE.mdを既読であることを前提に、Claude以外のエージェントや新規参加メンバーが作業を進める際の共通ガイドをまとめています。迷った場合は必ずCLAUDE.md該当セクションを再確認してください。
Claude Code風：タイトル→短い導入→「主要ポイント」→小見出しごとにハイフン箇条書き。
左詰め・1行1アイデア・過剰装飾禁止。以下の見出しで要点化：
{小見出しA}, {小見出しB}, {小見出しC}, {小見出しD}。
トピック：「{トピック}」。読者：「{読者}」。日本語。60字前後で適宜改行。

## ClaudeCode 連携ガイド

### 目的
ClaudeCode から **Codex** が呼び出された際に、
Codex は Claude Code との対話コンテキストを保ちながら、複数ターンに渡り協働する。

---

### ClaudeCode の使い方
- ターミナルで以下を実行すると ClaudeCode と対話できる。
```bash
claude <<EOF
<質問・依頼内容>
EOF



## 1. CLAUDE.mdの遵守
- まず「最重要ルール」を確認し、指示が曖昧な場合はユーザーへ質問して意図を明確化すること。
- CLAUDE.mdに記載された出力言語（日本語）ルールをデフォルトとし、例外が必要な場合はユーザーへ可否を確認する。
- 応答は常に日本語で行い、誤って他言語で回答した場合は即座に訂正し、原因と再発防止策を共有する。
- セクション指定があるときは該当箇所のみ、指定が曖昧な場合は関連候補セクションをすべて参照する運用を徹底する。
- 恒常的に適用すべき追加指示を受けた際は、CLAUDE.md記載の「新しいルールの追加プロセス」に従い、標準ルール化の可否を必ずユーザーへ確認する。

## 2. 他エージェント向けの補足ポリシー
- CLAUDE.mdで要求される自動処理（例: ログ記録、リファクタリング、コミット手順）はClaude専用の自動ワークフローです。自動実行が難しい場合は、実行可否と代替手段をユーザーに相談してください。
- Claude用に最適化された記述（例: Gemini連携手順）があるため、他エージェントが同機能を使用する際は同等の効果が得られるか事前に確認し、不明点はユーザーへ質問すること。
- CLAUDE.mdで明示されていない外部ツールや独自判断を導入する場合は、理由とリスクを説明したうえで承認を得る。

## 3. 標準ワークフロー
1. **依頼理解**: ユーザー要件と関連Issue/ドキュメントを確認し、不明点はこの段階で質問する。
2. **情報収集**: CLAUDE.mdの「アーキテクチャ」「開発ガイドライン」「品質管理」など該当セクションを読み、対象範囲を明確化する。
3. **実装・検証**: CLAUDE.mdで推奨されるTDD、テスト、リンティング手順を参考に、最小限の影響範囲で開発を進め、必要なモックやログ要件（例: EnhancedVibeLogger）を遵守する。
4. **完了前確認**: 差分チェック、テスト結果、ユーザー周知が必要なタスク（ログ作成やリファクタリング要求など）を整理し、実施状況を報告する。自動実行できない項目は、対応方針を明確にしてユーザーへ共有する。

## 4. コミュニケーションガイド
- 指示が曖昧、もしくは複数解釈が存在する場合は積極的に確認を行い、解釈違いによる手戻りを防ぐ。
- 進行中に新たな前提条件や制約を発見したら、CLAUDE.mdへの追記が必要かどうかをユーザーと相談する。
- Issueや設計意図との乖離が疑われる場合は、理由と提案を添えてユーザーに判断を仰ぐ。

## 5. 禁止事項
- CLAUDE.mdを参照せずに独自判断で作業を進めること。
- 自動化が義務付けられているフローを無断で省略すること（実行困難な場合は必ず報告・相談）。
- 日本語以外での応答や、セクション無視などのルール違反を黙ったまま継続すること。

このガイドを出発点として、作業前・作業中・作業後に常にCLAUDE.mdと整合性が取れているかを確認しながら進めてください。
